\include{preambulo}

\begin{document}

\renewcommand{\titulo}{Projeto 12}
\pagenumbering{arabic}
\makecover
\makelists

\section*{Resumo}

\section*{Introdução}

   O formato mais utilizados para arquivos com descrição de \emph{layouts}, principalmente para o envio de circuitos para \emph{foundries}, é o GDSII (\emph{\textbf{Graphic Data System II} stream format}). Este formato pode ser lido ou gerado pelo software da Mentor Graphics. Considere o arquivo GDSII disponibilizado pelo professor, \textbf{soc.gds}.

\textbf{1.} Leia o circuito em GDSII (\emph{\textbf{File -- import}}). A estrutura faz parte de um \emph{Gate Array} do tipo \emph{Sea of Gates} (mar de portas). \emph{Gate Arrays}, os avós dos FPGAs (\emph{Field Programmable Gate
Arrays}), são dispositivos onde há a pré-difusão de partes dos dispositivos. A configuração final de um circuito é realizada sobre a estrutura pré-difundida por meio de conexões de metal. No \emph{Gate Array} apresentado temos as seguintes características:
  \begin{itemize}
    \item todos os transistores já estão construídos e com dimensões fixas;
    \item a configuração do circuito é feita através dos contatos, vias e metais que conectam um transistor ao outro;
    \item o isolamento entre blocos de circuitos é feito com transistores: para isolar um conjunto de transistores P, conecta-se os transistores P das extremidades do conjunto à $V_{DD}$; para isolar um conjunto de transistores N, conecta-se os transistores N das extremidades do conjunto à $V_{SS}$;
    \item a estrutura de transistores é repetida ao longo de todo C.I. Apenas nas bordas do circuito são colocados os \emph{PAD}s para alimentação, entradas e saídas (no circuito lido aparece apenas uma pequena porção do que seria o \emph{Gate Array} completo).
  \end{itemize}

\bigskip

\textbf{2.} *Análise a implementação carregada, determine qual é o circuito que está implementado e apresente seu esquemático (nível de transistores).

  O esquemático está representado na \fref{imgQ02esquematico}. Este esquemático representa um circuito de um \emph{Latch}, que funciona para baixas frequências, isso porque o valor da saida do circuito fica armazenado nas capacitâncias parasitas da chave. É um circuito útil por ser mais rápido e consumir menos energia que o \emph{latch} convencional, pois utiliza menos elementos.

  \img{Esquemático do circuito \emph{Latch}}{imgQ02esquematico} % TODO adicionar figura
\bigskip

\textbf{3.} Passe o DRC para verificar quais erros há. Corrigir os possíveis problemas.
\bigskip

\textbf{4.} Observe que no circuito a posição dos possíveis contatos e vias é bem definida e homogeneamente espaçada. Agora apague todas estruturas que não fazem parte de \emph{gate array} original (contatos, vias e metais) e determine onde podem estar potenciais contatos/vias; desenhe um quadrado de $0,1 \mu m$ X $0,1 \mu m$, com o \emph{layer text}, em torno do ponto central das posições onde podem ser colocados os contatos/vias (para isso utilize o comando \emph{edit-copy-relative}). Estes quadrados servirão de referência para o desenho de novos circuitos.
\bigskip

\textbf{5.} Com o comando \emph{context-setcel origin} altere a origem do desenho para um ponto que seja o ponto central de algum contato/via possível. Feito isso, se o \emph{snap} for ajustado para, por exemplo, $0,5 \mu m$, pode-se facilmente achar os pontos onde são permitidos contatos/vias.
\bigskip

\textbf{6.} *Qual é a largura máxima das linhas que podem ser usadas nas conexões e que não atrapalhará conexões vizinhas?

  A largura máxima das linhas que podem ser usadas nas conexões é de $0,9 \mu m$ com espaçamento de $0,6 \mu m$.
\bigskip

\textbf{7.} *Salve a estrutura com um nome diferente. Nela desenhe um oscilador em anel com \textbf{5 NANDs} de duas entradas (aumente o \emph{gate array}, tanto na vertical como na horizontal para conseguir isso). Utilize apenas uma das entradas do \textbf{NAND} para o oscilador. A outra, \textbf{aquela ligada ao transistor mais próximo ao terra}, conecte a um porte de entrada chamado \textbf{CRT}. Verifique erros e apresente o \emph{layout} obtido.
% TODO
  O \empht{layout} obtido está representado na \fref{imgQ07layout}.
  
  \img{\emph{Layout} do oscilador em anel}{imgQ07layout} % TODO adicionar figura
\bigskip

\textbf{8.} *Extraia o \emph{netlist} do circuito e por simulação determine o período de oscilação e os atrasos médios na propagação para subida (\emph{low-to-high}) e para descida (\emph{high-to-low}) de uma porta \verb:NAND: (mantenha o sinal \textbf{$CRT = 3,3 V$}). Qual a relação entre essas grandezas? Apresente o arquivo de simulação e os sinais vistos no ezwave.
% TODO
  O arquivo de simulação está representado no \cref{srcQ08simu}. A relação entre as grandezas é de $XXX$ assim como mostra a \fref{imgQ08relacao}. % TODO colocar valor

  \img{Relação entre propagação de subida e descida}{imgQ08relacao} % TODO adicionar figura
\bigskip

\textbf{9.} *Varie CRT de $0,9 V$ a $3,3 V$ (passos de $0,1 V$) e determine a freqüência de oscilação para cada valor de CRT (modelo típico). Trace o gráfico Freq. de Oscilação versus CRT. Caso se deseje utilizar o circuito como um VCO (\emph{Voltage-Controlled Oscillator}), qual a faixa de freqüências que ele com certeza pode cobrir (considere os três modelos aqui, típico, \emph{worstspeed} e \emph{worstpower})?
% TODO
  Os gráficos de frequência de oscilação por CRT estão representados nas \fref{imgQ09freqOsc_tipico}, \fref{imgQ09freqOsc_ws} e \fref{imgQ09freqOsc_wp}. Ao observar-se os resultados, pode-se concluir que a faixa de frequências que ele pode cobrir é de frequências até $XXX Hz$. % TODO colocar valor

  \img{Frequência de oscilação versus CRT, modelo típico}{imgQ09freqOsc_tipico}        % TODO adicionar figura
  \img{Frequência de oscilação versus CRT, modelo \emph{worstspeed}}{imgQ09freqOsc_ws} % TODO adicionar figura
  \img{Frequência de oscilação versus CRT, modelo \emph{worstpower}}{imgQ09freqOsc_wp} % TODO adicionar figura
\bigskip

\textbf{10.} *Gere um arquivo GDSII (\emph{File -- export}) com o oscilador em anel feito. Tente lê-lo para verificar se foi gerado corretamente. Qual o tamanho deste arquivo?
% TODO
  O arquivo exporta tem um total de $xxx KB$. % TODO colocar valor
\bigskip

\end{document}
